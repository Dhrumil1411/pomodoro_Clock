<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="icon" type="image/x-icon" href="stopwatch.png" />
    <title>Pomodoro Clock</title>
    <style>
      .mainDiv {
        padding-top: 100px;
      }

      .clockTypes {
        text-align: center;
        padding-top: 70px;
      }

      .pomodoroBtn {
        border: 2px solid white;
        text-align: center;
        box-shadow: 0 0 50px rgb(0 0 0/ 0.2);
        min-width: 5%;
        height: auto;
        border-radius: 5px;
        font-family: monospace;
        font-weight: bold;
        letter-spacing: 1px;
        margin-right: 5px;
        font-size: 35px;
        margin-top: 10px;
        transition-duration: 0.5s;
        padding: 10px;
      }

      .pomodoroBtn:hover {
        cursor: pointer;
        box-shadow: 0 0 50px  rgba(0, 0, 0, 0.24),
          0 0 50px rgba(0, 0, 0, 0.19);
      }

      .shortBreakBtn {
        border: 2px solid white;
        text-align: center;
        box-shadow: 0 0 50px rgb(0 0 0/ 0.2);
        min-width: 5%;
        height: auto;
        border-radius: 5px;
        font-family: monospace;
        font-weight: bold;
        letter-spacing: 1px;
        margin-right: 5px;
        font-size: 35px;
        margin-top: 10px;
        transition-duration: 0.5s;
        padding: 10px;
      }

      .shortBreakBtn:hover {
        cursor: pointer;
        box-shadow: 0 0 50px  rgba(0, 0, 0, 0.24),
          0 0 50px rgba(0, 0, 0, 0.19);
      }

      .longBreakBtn {
        border: 2px solid white;
        text-align: center;
        box-shadow: 0 0 50px rgb(0 0 0/ 0.2);
        min-width: 5%;
        height: auto;
        border-radius: 5px;
        font-family: monospace;
        font-weight: bold;
        letter-spacing: 1px;
        margin-right: 5px;
        font-size: 35px;
        margin-top: 10px;
        transition-duration: 0.5s;
        padding: 10px;
      }

      .longBreakBtn:hover {
        cursor: pointer;
        box-shadow: 0 0 50px  rgba(0, 0, 0, 0.24),
          0 0 50px rgba(0, 0, 0, 0.19);
      }

      .pomodoroClock {
        border: 2px solid white;
        box-shadow: 0 0 50px rgb(0 0 0/ 0.2);
        text-align: center;
        height: 400px;
        width: 400px;
        border-radius: 50%;
        margin-left: auto;
        margin-right: auto;
        transition-duration: 0.5s;
      }

      .pomodoroClock:hover {
        box-shadow: 0 0 40px  rgba(0, 0, 0, 0.24),
          0 0 40px rgba(0, 0, 0, 0.19);
      }

      .timer {
        margin-top: 37%;
      }

      .minutes {
        display: inline;
        font-size: 600%;
      }

      .colon {
        display: inline;
        font-size: 600%;
      }

      .seconds {
        display: inline;
        font-size: 600%;
      }

      .clockBtns {
        text-align: center;
        padding: 20px;
      }

      .startBtn {
        border: 2px solid white;
        text-align: center;
        box-shadow: 0 0 50px rgb(0 0 0/ 0.3);
        min-width: 5%;
        height: auto;
        border-radius: 5px;
        font-family: monospace;
        font-weight: bold;
        letter-spacing: 1px;
        margin-right: 5px;
        font-size: 35px;
        margin-top: 20px;
        transition-duration: 0.5s;
        padding: 10px;
      }

      .startBtn:hover {
        cursor: pointer;
        box-shadow: 0 0 50px  rgba(0, 0, 0, 0.24),
          0 0 50px rgba(0, 0, 0, 0.19);
      }

      @media screen and (max-width: 700px) {
        .pomodoroBtn {
          font-size: 15px;
        }

        .shortBreakBtn {
          font-size: 15px;
        }

        .longBreakBtn {
          font-size: 15px;
        }

        .startBtn {
          font-size: 15px;
        }

        .pomodoroClock {
          height: 250px;
          width: 250px;
        }

        .minutes {
          font-size: 400%;
        }

        .colon {
          font-size: 400%;
        }
        .seconds {
          font-size: 400%;
        }
      }
    </style>
  </head>

  <body>
    <div class="clockTypes" id="clockTypes">
      <button type="button" class="pomodoroBtn" id="pomodoroBtn">
        pomodoro
      </button>
      <button type="button" class="shortBreakBtn" id="shortBreakBtn">
        Short Break
      </button>
      <button type="button" class="longBreakBtn" id="longBreakBtn">
        long Break
      </button>
    </div>
    <div class="mainDiv">
      <div class="pomodoroClock" id="pomodoroClock">
        <div class="timer">
          <p class="minutes" id="minutes">25</p>
          <p class="colon" id="colon">:</p>
          <p class="seconds" id="seconds">00</p>
        </div>
      </div>
      <div class="clockBtns" id="clockBtns">
        <button type="button" class="startBtn" id="startBtn">START</button
        ><br />
        <!-- <button type="button" id="allowNotification">allow notification</button> -->
      </div>
    </div>

    <script>
      let Timer;
      // let shortBreakNotification = false;
      // let longBreakNotification = false;
      document.getElementById("startBtn").innerHTML = "\u23F5" + "START";
      document.getElementById("pomodoroBtn").addEventListener("click", () => {
        document.getElementById("minutes").innerHTML = "25";
        document.getElementById("seconds").innerHTML = "00";
        document.getElementById("startBtn").innerHTML = "\u23F5" + "START";
        clearInterval(Timer);
        minutes = 24;
        seconds = 59;
      });

      document.getElementById("shortBreakBtn").addEventListener("click", () => {
        document.getElementById("minutes").innerHTML = "05";
        document.getElementById("seconds").innerHTML = "00";
        document.getElementById("startBtn").innerHTML = "\u23F5" + "START";
        clearInterval(Timer);
        minutes = 4;
        shortBreak = -1;
        seconds = 59;
        // shortBreakNotification = true;
      });

      document.getElementById("longBreakBtn").addEventListener("click", () => {
        document.getElementById("minutes").innerHTML = "15";
        document.getElementById("seconds").innerHTML = "00";
        document.getElementById("startBtn").innerHTML = "\u23F5" + "START";
        clearInterval(Timer);
        minutes = 14;
        shortBreak = -1;
        seconds = 59;
      });
      // document.getElementById("allowNotification").addEventListener('click',()=>{
      //   Notification.requestPermission().then(Permission=>{
      //     console.log(Permission);
      //   });
      // })
      let breakCounts = 0;
      let minutes = 24;
      let seconds = 59;
      let shortBreak = 4;
      let longBreak = 14;
      document.getElementById("startBtn").addEventListener("click", () => {
        if (
          document.getElementById("startBtn").innerHTML ===
          "\u23F5" + "START"
        ) {
          // new Notification("clock has started");
          Timer = setInterval(reamaingTime, 1000);
          document.getElementById("startBtn").innerHTML = "\u23F8" + "PAUSE";
          if (minutes < 10) {
            document.getElementById("minutes").innerHTML = "0" + minutes;
          } else {
            document.getElementById("minutes").innerHTML = minutes;
          }
          document.getElementById("seconds").innerHTML = seconds;
        } else {
          clearInterval(Timer);
          document.getElementById("startBtn").innerHTML = "\u23F5" + "START";
          // new Notification("clock has paused");
        }
      });

      function reamaingTime() {
        seconds = seconds - 1;
        if (seconds < 10) {
          document.getElementById("seconds").innerHTML = "0" + seconds;
        } else {
          document.getElementById("seconds").innerHTML = seconds;
        }
        if (seconds === 0) {
          minutes = minutes - 1;
          if (minutes < 0) {
            if (breakCounts === 3) {
              if (longBreak < 0) {
                // longBreakNotification = false;
                breakCounts = 0;
                shortBreak = -1;
                longBreak = 14;
              } else {
                // if (longBreakNotification === false) {
                //   new Notification("Long break has started take a break");
                //   longBreakNotification = true;
                // }
                document.getElementById("minutes").innerHTML = longBreak;
                longBreak = longBreak - 1;
              }
            } else {
              if (shortBreak < 0) {
                // shortBreakNotification = false;
                // new Notification("break is over now lets get back to work!");
                shortBreak = 4;
                minutes = 24;
                breakCounts++;
                console.log(breakCounts);
                document.getElementById("minutes").innerHTML = minutes;
              } else {
                // if (shortBreakNotification === false) {
                //   new Notification("short Break has started take a break!");
                //   shortBreakNotification = true;
                // }
                document.getElementById("minutes").innerHTML = shortBreak;
                shortBreak = shortBreak - 1;
              }
            }
          } else {
            if (minutes < 10) {
              document.getElementById("minutes").innerHTML = "0" + minutes;
            } else {
              document.getElementById("minutes").innerHTML = minutes;
            }
          }
          seconds = 60;
          document.getElementById("seconds").innerHTML = "60";
        }
      }
    </script>
  </body>
</html>
